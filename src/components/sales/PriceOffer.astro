---
import CtaButton from '../ui/CtaButton.astro';
import { productConfig } from '../../data/product-config';
import { formatPrice } from '../../lib/format';
---

<section id="oferta" class="py-16 md:py-24 px-4">
  <div class="max-w-3xl mx-auto text-center">
    <h2 class="text-2xl md:text-3xl font-bold mb-12">
      Lo que Obtendr√≠as Si Contrataras Todo Esto por Separado
    </h2>

    <!-- Value stack table -->
    <div class="bg-surface/80 border border-card-border/30 rounded-2xl p-6 md:p-8 mb-10 text-left">
      <div class="space-y-3">
        {productConfig.valueStack.map((item) => (
          <div class="flex justify-between items-center py-2 border-b border-card-border/20 last:border-0">
            <span class="text-text-secondary">{item.item}</span>
            <span class="text-text-muted line-through text-sm">{formatPrice(item.value)}</span>
          </div>
        ))}
      </div>
      <div class="flex justify-between items-center pt-4 mt-4 border-t border-card-border/40">
        <span class="font-semibold text-text-primary">Valor total</span>
        <span class="text-text-muted line-through">{formatPrice(productConfig.valueStack.reduce((sum, i) => sum + i.value, 0))}</span>
      </div>
    </div>

    <!-- Comparison -->
    <div id="oferta-precio" class="scroll-mt-8"></div>
    <p class="text-text-secondary mb-8 leading-relaxed max-w-2xl mx-auto">
      Un copywriter freelance cobra entre 50 y 150 ‚Ç¨ por cada texto. Una agencia de marketing, entre 500 y 2.000 ‚Ç¨ al mes.
      Un asistente virtual, m√≠nimo 800 ‚Ç¨ al mes. Todo lo que hacen esos profesionales, lo tienes aqu√≠ por una fracci√≥n del coste.
    </p>

    <!-- Pricing -->
    <div class="mb-4">
      <p class="text-text-muted line-through text-lg">
        Precio habitual: {formatPrice(productConfig.originalPrice)}
      </p>
    </div>
    <p class="text-5xl md:text-7xl font-extrabold text-text-primary mb-2">
      {productConfig.price} <span class="text-3xl md:text-4xl">‚Ç¨</span>
    </p>
    <p class="text-text-secondary mb-8">
      Pago √∫nico. Acceso de por vida. Sin suscripciones.
    </p>

    <!-- Guarantee block -->
    <div class="mb-8 bg-success/5 border border-success/20 rounded-2xl p-6 text-center max-w-md mx-auto">
      <div class="text-4xl mb-3">üõ°Ô∏è</div>
      <h3 class="text-lg font-bold text-text-primary mb-2">Garant√≠a "10x o Te Devolvemos Todo"</h3>
      <p class="text-sm text-text-secondary leading-relaxed">
        {productConfig.guarantee}
      </p>
    </div>

    <!-- CTA -->
    <CtaButton section="price_offer" label={productConfig.ctaLabels.priceOffer} />

    <!-- Instant access reassurance -->
    <p class="mt-4 text-sm text-text-muted">
      Acceso inmediato. En 5 minutos estar√°s usando tu primer prompt.
    </p>
  </div>
</section>
